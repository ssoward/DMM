<!-- APP SCRIPT -->
<div class="list-group-item">
    <h5 class="pull-right">Daily Sales</h5>
    <br />
    <spinner class="bl-spinner-large" ng-show="!pageLoaded"></spinner>
    <div ng-show="pageLoaded">
        <div class="row">
            <div class="col-md-2">
                <form name="reportForm">
                    <p class="input-group">
                        <input required type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dateToEval" is-open="opened"
                               min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
                    </p>
                    <p class="input-group">
                        <select required class="form-control" ng-model="location">
                            <option value="Murray">Murray</option>
                            <option value="LEHI">Lehi</option>
                        </select>
                    </p>
                </form>
                <button ng-disabled="!reportForm.$valid" class="btn btn-default" ng-click="getReport()">Get Report <span ng-show="searchingInvoices"><spinner></spinner></span></button>
            </div>
        </div>
        <br/>
        <pre>Showing Results for: <em>{{dateToEval | date:'fullDate' }}</em></pre>
        <div ng-show="!searchingInvoices">
            <table class="table table-striped table-bordered table-hover table-responsive">
                <tr>
                    <th>Invoice#</th>
                    <th>Time</th>
                    <th>Product</th>
                </tr>
                <tr ng-repeat="inv in invoices">
                    <td>{{inv.invoiceNum}}</td>
                    <td>{{inv.invoiceDate | date:'fullDate'}}</td>
                    <td>
                        <div ng-repeat="trans in inv.transList">
                            <product-sold transaction="trans" history="productHistory[trans.productNum]" location="location"></product-sold>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
